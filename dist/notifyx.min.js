/*!
 * NotifyX v2.3.0
 * A lightweight, framework-agnostic toast notification library
 * https://github.com/awalhadi/notifyx
 * @author A Awal Hadi
 */
var e,t;e=this,t=function(e){"use strict";const t=new Map,i=e=>{const i=t.get(e);if(i&&document.body.contains(i))return i;const s=document.querySelector(`.notifyx-container[data-position="${e}"]`);if(s)return t.set(e,s),s;const n=(e=>{const t=document.createElement("div");return t.className="notifyx-container",t.setAttribute("data-position",e),t.setAttribute("aria-label",`Notifications ${e.replace("-"," ")}`),t})(e);return document.body.appendChild(n),t.set(e,n),n},s={enter:"notifyx-spring-enter",exit:"notifyx-spring-exit",slideEnter:"notifyx-slide-enter",slideExit:"notifyx-slide-exit"},n={TOP_RIGHT:"top-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",BOTTOM_RIGHT:"bottom-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",CENTER:"center"},o={type:"default",duration:3e3,showProgress:!0,showIcon:!0,pauseOnHover:!0,position:n.TOP_RIGHT,dismissible:!0,maxToasts:5},a={success:"✓",error:"✕",warning:"⚠",info:"ℹ",default:"●"};let r=null;class c{static createToastElement(e){const t=document.createElement("div");t.className=`notifyx notifyx-${e.type} ${s.enter}`,t.setAttribute("role","alert"),t.setAttribute("aria-live","error"===e.type?"assertive":"polite"),t.setAttribute("aria-atomic","true");const i=document.createElement("div");i.className="notifyx-content";const n=document.createElement("div");if(n.className="notifyx-content-and-icon",e.showIcon){const t=document.createElement("div");t.className="notifyx-icon",t.textContent=e.icon||a[e.type],t.setAttribute("aria-hidden","true"),n.appendChild(t)}const o=document.createElement("span");if(o.className="notifyx-msg",o.textContent=e.message,n.appendChild(o),i.appendChild(n),e.dismissible&&i.appendChild(this.createCloseButton(t,e)),t.appendChild(i),e.showProgress&&e?.duration&&e?.duration>0){const e=document.createElement("div");e.className="notifyx-progress-bar",t.appendChild(e)}return t}static createLoaderElement(e){const t=document.createElement("div");t.className=`notifyx notifyx-${e.type} ${s.enter}`,t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-busy","true");const i=document.createElement("div");i.className="notifyx-loader";const n=document.createElement("div");if(n.className="notifyx-spinner",n.setAttribute("aria-label","Loading"),i.appendChild(n),e.message){const t=document.createElement("span");t.className="notifyx-msg",t.textContent=e.message,i.appendChild(t)}return t.appendChild(i),t}static createCloseButton(e,t){const i=document.createElement("button");return i.className="notifyx-close",i.setAttribute("aria-label","Close notification"),i.setAttribute("type","button"),i.onclick=()=>this.removeToast(e,t.onClose),i}static removeToast(e,t){if(e.hasAttribute("data-removing"))return;e.setAttribute("data-removing","true");const i=e?.__notifyxTimeout;i&&null!==i.timeoutId&&(clearTimeout(i.timeoutId),i.timeoutId=null);const n=e.__notifyxPauseTimer,o=e.__notifyxResumeTimer;n&&e.removeEventListener("mouseenter",n),o&&e.removeEventListener("mouseleave",o),delete e.__notifyxTimeout,delete e.__notifyxPauseTimer,delete e.__notifyxResumeTimer;const a=()=>{e.isConnected&&e.remove(),this.cleanupEmptyContainer(e.parentElement),t?.()};if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void a();e.classList.remove(s.enter),e.classList.add(s.exit);const r=window.setTimeout(()=>{a()},400),c=t=>{t.target===e&&(clearTimeout(r),e.removeEventListener("animationend",c),a())};e.addEventListener("animationend",c)}static cleanupEmptyContainer(e){e&&0===e.childNodes.length&&e.remove()}static setupAutoDismiss(e,t){if(!t.duration||t.duration<=0)return;const i={timeoutId:null,startTime:Date.now(),remainingTime:t.duration,isPaused:!1},s=e.querySelector(".notifyx-progress-bar");s&&(s.style.width="100%",requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.style.transition=`width ${t.duration}ms linear`,s.style.width="0%"})}));const n=()=>{if(!i.isPaused&&null!==i.timeoutId){i.isPaused=!0;const e=Date.now()-i.startTime;if(i.remainingTime=Math.max(0,i.remainingTime-e),s){const e=window.getComputedStyle(s).width;s.style.transition="none",s.style.width=e}clearTimeout(i.timeoutId),i.timeoutId=null}},o=()=>{i.isPaused&&i.remainingTime>0&&(i.isPaused=!1,i.startTime=Date.now(),s&&requestAnimationFrame(()=>{s.style.transition=`width ${i.remainingTime}ms linear`,s.style.width="0%"}),i.timeoutId=window.setTimeout(()=>{this.removeToast(e,t.onClose)},i.remainingTime))};e.__notifyxPauseTimer=n,e.__notifyxResumeTimer=o,t.pauseOnHover&&(e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",o)),i.timeoutId=window.setTimeout(()=>{this.removeToast(e,t.onClose)},t.duration),e.__notifyxTimeout=i}static enforceMaxToasts(e,t){const i=e.querySelectorAll(".notifyx");i.length>=t&&this.removeToast(i[0])}static show(e){const t={...o,...e},s=i(t.position);this.enforceMaxToasts(s,t.maxToasts);const n=this.createToastElement(t);s.appendChild(n),this.setupAutoDismiss(n,t)}static success(e,t){this.show({...t,message:e,type:"success"})}static error(e,t){this.show({...t,message:e,type:"error"})}static warning(e,t){this.show({...t,message:e,type:"warning"})}static info(e,t){this.show({...t,message:e,type:"info"})}static loading(e,t){r&&(this.removeToast(r),r=null);const s={...o,...t,message:e,type:"info",duration:0,showProgress:!1,dismissible:!1,position:"center"},n=i("center"),a=this.createLoaderElement(s);n.appendChild(a),r=a}static dismissLoading(){r&&(this.removeToast(r),r=null)}static async promise(e,t,i){this.loading(t.loading,i);try{const s=await e;this.dismissLoading();const n="function"==typeof t.success?t.success(s):t.success;return this.success(n,i),s}catch(s){this.dismissLoading();const e="function"==typeof t.error?t.error(s):t.error;throw this.error(e,i),s}}static clear(){document.querySelectorAll(".notifyx-container").forEach(e=>{e.querySelectorAll(".notifyx").forEach(e=>{this.removeToast(e)})}),r=null}static dismiss(e){e&&e.classList.contains("notifyx")&&this.removeToast(e)}}"undefined"!=typeof window&&(window.NotifyX=c),e.ANIMATION_CLASSES=s,e.DEFAULT_OPTIONS=o,e.NotifyX=c,e.POSITIONS=n,e.default=c,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).NotifyX={});
