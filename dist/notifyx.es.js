const t=t=>{const e=document.querySelector(`.notifyx-container[data-position="${t}"]`);if(e)return e;const o=(t=>{const e=document.createElement("div");return e.className="notifyx-container",e.setAttribute("data-position",t),e.setAttribute("aria-label",`Notifications ${t.replace("-"," ")}`),e})(t);return document.body.appendChild(o),o},e={enter:"notifyx-enter",exit:"notifyx-exit",slideEnter:"notifyx-slide-enter",slideExit:"notifyx-slide-exit"},o={TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_LEFT:"bottom-left"},i={type:"info",duration:3e3,position:o.TOP_RIGHT,dismissible:!0,maxToasts:5};class s{static generateToastElement(t){const o=document.createElement("div");o.className=`notifyx notifyx-${t.type} ${e.enter} rounded-lg border shadow-md`,o.setAttribute("role","alert"),o.setAttribute("aria-live","polite");const i=document.createElement("span");if(i.className="notifyx-msg",i.textContent=t.message,o.appendChild(i),t.dismissible){const t=document.createElement("button");t.className="notifyx-close",t.innerHTML="âœ•",t.setAttribute("aria-label","Close notification"),t.setAttribute("type","button"),t.onclick=()=>this.removeToast(o),o.appendChild(t)}return o}static removeToast(t){t.classList.remove(e.enter),t.classList.add(e.exit);const o=()=>{t.remove(),t.removeEventListener("animationend",o);const e=t.parentElement;e&&0===e.childNodes.length&&e.remove()};t.addEventListener("animationend",o)}static show(e){const o={...i,...e},s=t(o.position),n=this.generateToastElement(o),a=s.querySelectorAll(".notifyx");if(a.length>=i.maxToasts){const t=a[0];this.removeToast(t)}s.appendChild(n);let r=null;if(o.duration&&o.duration>0&&(r=setTimeout(()=>{this.removeToast(n),o.onClose?.()},o.duration)),o.dismissible){const t=n.querySelector(".notifyx-close");if(t){const e=t.onclick;t.onclick=i=>{r&&clearTimeout(r),o.onClose?.(),e&&e.call(t,i)}}}}static success(t,e){this.show({...e,message:t,type:"success"})}static error(t,e){this.show({...e,message:t,type:"error"})}static warning(t,e){this.show({...e,message:t,type:"warning"})}static info(t,e){this.show({...e,message:t,type:"info"})}static clear(){document.querySelectorAll(".notifyx-container").forEach(t=>{t.querySelectorAll(".notifyx").forEach(t=>{this.removeToast(t)})})}}"undefined"!=typeof window&&(window.NotifyX=s);export{e as ANIMATION_CLASSES,i as DEFAULT_OPTIONS,s as NotifyX,o as POSITIONS,s as default};
